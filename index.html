<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Generate Code Snippets</title>
</head>
<body>
  <h1>Generate Code Snippets</h1>
  <label>
    Number of snippets to generate (max 10):
    <input type="number" id="count" value="1" min="1" max="10" />
  </label>
  <button id="generateBtn">Generate</button>

  <pre id="output" style="white-space: pre-wrap; background:#f0f0f0; padding:10px; margin-top:20px;"></pre>

<script>
  const workerUrl = 'https://your-worker-url.workers.dev';  // Replace with your worker URL

  document.getElementById('generateBtn').addEventListener('click', async () => {
    const countInput = document.getElementById('count');
    let count = parseInt(countInput.value);
    if (isNaN(count) || count < 1) count = 1;
    if (count > 10) count = 10;

    const output = document.getElementById('output');
    output.textContent = 'Generating...';

    try {
      const response = await fetch(`${workerUrl}?count=${count}`);
      if (!response.ok) throw new Error('Network response was not ok');

      const data = await response.json();
      output.textContent = data.snippets.join('\n\n');
    } catch (error) {
      output.textContent = 'Error generating code: ' + error.message;
    }
  });
</script>
</body>
</html>
